{"version":3,"file":"index.js","sources":["../../node_modules/@kenzap/k-cloud/index.js","../../src/_/_helpers.js","../../src/_/_cnt_home.js","../../src/home/index.js"],"sourcesContent":["/**\n * @name initHeader\n * @description Initiates Kenzap Cloud extension header and related scripts. Verifies user sessions, handles SSO, does cloud space navigation, initializes i18n localization. \n * @param {object} response\n */\nexport const initHeader = (response) => {\n\n    // cache header from backend\n    if(response.header) localStorage.setItem('header', response.header);\n  \n    // load header to html if not present\n    if(!document.querySelector(\"#k-script\")){\n  \n        let child = document.createElement('div');\n        child.innerHTML = localStorage.getItem('header');\n        child = child.firstChild;\n        document.body.prepend(child);\n  \n        // run header scripts\n        Function(document.querySelector(\"#k-script\").innerHTML).call('test');\n    }\n  \n    // load locales if present\n    if(response.locale) window.i18n.init(response.locale); \n}\n\n/**\n * @name showLoader\n * @description Initiates full screen three dots loader.\n */\nexport const showLoader = () => {\n\n    let el = document.querySelector(\".loader\");\n    if (el) el.style.display = 'block';\n}\n\n/**\n * @name hideLoader\n * @description Removes full screen three dots loader.\n */\nexport const hideLoader = () => {\n\n    let el = document.querySelector(\".loader\");\n    if (el) el.style.display = 'none';\n}\n\n/**\n * @name initFooter\n * @description Removes full screen three dots loader.\n * @param {string} left - Text or html code to be present on the left bottom side of screen\n * @param {string} right - Text or html code to be present on the left bottom side of screen\n */\nexport const initFooter = (left, right) => {\n\n    document.querySelector(\"footer .row\").innerHTML = `\n    <div class=\"d-sm-flex justify-content-center justify-content-sm-between\">\n        <span class=\"text-muted text-center text-sm-left d-block d-sm-inline-block\">${left}</span>\n        <span class=\"float-none float-sm-right d-block mt-1 mt-sm-0 text-center text-muted\">${right}</span>\n    </div>`;\n}\n\n/**\n * @name link\n * @description Handles Cloud navigation links between extensions and its pages. Takes care of custom url parameters.\n * @param {string} slug - Any inbound link\n * \n * @returns {string} link - Returns original link with kenzp cloud space ID identifier.\n */\nexport const link = (slug) => {\n    \n    let urlParams = new URLSearchParams(window.location.search);\n    let sid = urlParams.get('sid') ? urlParams.get('sid') : \"\";\n\n    let postfix = slug.indexOf('?') == -1 ? '?sid='+sid : '&sid='+sid;\n\n    return slug + postfix;\n}\n\n/**\n * @name getSiteId\n * @description Gets current Kenzap Cloud space ID identifier from the URL.\n * \n * @returns {string} id - Kenzap Cloud space ID.\n */\nexport const getSiteId = () => {\n    \n    let urlParams = new URLSearchParams(window.location.search);\n    let id = urlParams.get('sid') ? urlParams.get('sid') : \"\";\n\n    return id;\n}\n\n/**\n * @name spaceID\n * @description Gets current Kenzap Cloud space ID identifier from the URL.\n * \n * @returns {string} id - Kenzap Cloud space ID.\n */\n export const spaceID = () => {\n    \n    let urlParams = new URLSearchParams(window.location.search);\n    let id = urlParams.get('sid') ? urlParams.get('sid') : \"\";\n\n    return id;\n}\n\n/**\n * @name setCookie\n * @description Set cookie by its name to all .kenzap.cloud subdomains\n * @param {string} name - Cookie name.\n * @param {string} value - Cookie value.\n * @param {string} days - Number of days when cookie expires.\n */\n export const setCookie = (name, value, days) => {\n\n    let expires = \"\";\n    if (days) {\n        let date = new Date();\n        date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\n        expires = \";expires=\" + date.toUTCString();\n    }\n    document.cookie = name + \"=\" + (escape(value) || \"\") + expires + \";path=/;domain=.kenzap.cloud\"; \n}\n\n/**\n * @name getCookie\n * @description Read cookie by its name.\n * @param {string} cname - Cookie name.\n * \n * @returns {string} value - Cookie value.\n */\nexport const getCookie = (cname) => {\n\n    let name = cname + \"=\";\n    let decodedCookie = decodeURIComponent(document.cookie);\n    let ca = decodedCookie.split(';');\n    for (let i = 0; i < ca.length; i++) {\n        let c = ca[i];\n        while (c.charAt(0) == ' ') {\n            c = c.substring(1);\n        }\n        if (c.indexOf(name) == 0) {\n            return c.substring(name.length, c.length);\n        }\n    }\n    return \"\";\n}\n\n/**\n * @name checkHeader\n * @description This function tracks UI updates, creates header version checksum and compares it after every page reload\n * @param {object} object - API response.\n */\n export const checkHeader = () => {\n\n    let version = (localStorage.hasOwnProperty('header') && localStorage.hasOwnProperty('header-version')) ? localStorage.getItem('header-version') : 0;\n    let check = window.location.hostname + '/' + spaceID() + '/' + getCookie('locale');\n    if(check != getCookie('check')){ version = 0; console.log('refresh'); }\n    \n    setCookie('check', check, 5);\n\n    return version\n}\n\n/**\n * @name headers\n * @description Default headers object for all Kenzap Cloud fetch queries. \n * @param {object} headers\n */\n export const headers = {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json',\n    'Authorization': 'Bearer ' + getCookie('kenzap_api_key'),\n    'Kenzap-Locale': getCookie('locale') ? getCookie('locale') : \"en\",\n    'Kenzap-Header': checkHeader(),\n    'Kenzap-Token': getCookie('kenzap_token'),\n    'Kenzap-Sid': spaceID(),\n}\n\n/**\n * @name parseApiError\n * @description Set default logics for different API Error responses.\n * @param {object} object - API response.\n */\n export const parseApiError = (data) => {\n\n    // outout to frontend console\n    console.log(data);\n\n    // unstructured failure\n    if(isNaN(data.code)){\n    \n        // structure failure data\n        let log = data;\n        try{ log = JSON.stringify(log); }catch(e){ }\n\n        let params = new URLSearchParams();\n        params.append(\"cmd\", \"report\");\n        params.append(\"sid\", spaceID());\n        params.append(\"token\", getCookie('kenzap_token'));\n        params.append(\"data\", log);\n        \n        // report error\n        fetch('https://api-v1.kenzap.cloud/error/', { method: 'post', headers: { 'Accept': 'application/json', 'Content-type': 'application/x-www-form-urlencoded', }, body: params });\n\n        alert('Can not connect to Kenzap Cloud');  \n        return;\n    }\n    \n    // handle cloud error codes\n    switch(data.code){\n\n        // unauthorized\n        case 401:\n\n            // dev mode\n            if(window.location.href.indexOf('localhost')!=-1){ \n\n                alert(data.reason); \n                return; \n            }\n\n            // production mode\n            location.href=\"https://auth.kenzap.com/?app=65432108792785&redirect=\"+window.location.href; break;\n        \n        // something else\n        default:\n\n            alert(data.reason); \n            break;\n    }\n}\n\n/**\n * @name initBreadcrumbs\n * @description Render ui breadcrumbs.\n * @param {array} data - List of link objects containing link text and url. If url is missing then renders breadcrumb as static text. Requires html holder with .bc class.\n */\nexport const initBreadcrumbs = (data) => {\n\n    let html = '<ol class=\"breadcrumb mt-2 mb-0\">';\n    for(let bc of data){\n        \n        if(typeof(bc.link) === 'undefined'){\n\n            html += `<li class=\"breadcrumb-item\">${ bc.text }</li>`;\n        }else{\n\n            html += `<li class=\"breadcrumb-item\"><a href=\"${ bc.link }\">${ bc.text }</a></li>`;\n        }\n    }\n    html += '</ol>';\n    \n    document.querySelector(\".bc\").innerHTML = html;\n}\n\n/**\n * @name onClick\n * @description One row click event listener declaration. Works with one or many HTML selectors.\n * @param {string} sel - HTML selector, id, class, etc.\n * @param {string} fn - callback function fired on click event.\n */\nexport const onClick = (sel, fn) => {\n\n    if(document.querySelector(sel)) for( let e of document.querySelectorAll(sel) ){\n\n        e.removeEventListener('click', fn, true);\n        e.addEventListener('click', fn, true);\n    }\n}\n\n/**\n * @name onKeyUp\n * @description One row key up event listener declaration. Works with one or many HTML selectors.\n * @param {string} sel - HTML selector, id, class, etc.\n * @param {string} fn - callback function fired on click event.\n */\nexport const onKeyUp = (sel, fn) => {\n\n    if(document.querySelector(sel)) for( let e of document.querySelectorAll(sel) ){\n\n        e.removeEventListener('keyup', fn, true);\n        e.addEventListener('keyup', fn, true);\n    }\n}\n\n/**\n * @name onChange\n * @description One row change event listener declaration. Works with one or many HTML selectors.\n * @param {string} sel - HTML selector, id, class, etc.\n * @param {string} fn - callback function fired on click event.\n */\nexport const onChange = (sel, fn) => {\n\n    if(document.querySelector(sel)) for( let e of document.querySelectorAll(sel) ){\n\n        e.removeEventListener('change', fn, true);\n        e.addEventListener('change', fn, true);\n    }\n}\n\n/**\n * @name loadScript\n * @description Asynchronous script loader function.\n * @param {string} url - HTML selector, id, class, etc.\n * @param {string} cb - callback function fired immediately after script is loaded.\n */\n export const loadScript = (url, cb) => {\n\n    if (!Array.from(document.querySelectorAll('script')).some(elm => elm.src == url)) {\n      let script = document.createElement('script')\n      script.onload = cb\n      script.src = url\n      document.getElementsByTagName('head')[0].appendChild(script)\n    }\n}\n\n/**\n * @name simulateClick\n * @description Trigger on click event without user interaction.\n * @param {string} elem - HTML selector, id, class, etc.\n */\n export const simulateClick = (elem) => {\n\n\t// create our event (with options)\n\tlet evt = new MouseEvent('click', {\n\t\tbubbles: true,\n\t\tcancelable: true,\n\t\tview: window\n\t});\n\n\t// if cancelled, don't dispatch the event\n\t!elem.dispatchEvent(evt);\n};\n\n/**\n * Create a web friendly URL slug from a string.\n *\n * Requires XRegExp (http://xregexp.com) with unicode add-ons for UTF-8 support.\n *\n * Although supported, transliteration is discouraged because\n *     1) most web browsers support UTF-8 characters in URLs\n *     2) transliteration causes a loss of information\n *\n * @author Sean Murphy <sean@iamseanmurphy.com>\n * @copyright Copyright 2012 Sean Murphy. All rights reserved.\n * @license http://creativecommons.org/publicdomain/zero/1.0/\n *\n * @param string s\n * @param object opt\n * @return string\n */\n export const slugify = (s, opt) => {\n\n\ts = String(s);\n\topt = Object(opt);\n\t\n\tvar defaults = {\n\t\t'delimiter': '-',\n\t\t'limit': undefined,\n\t\t'lowercase': true,\n\t\t'replacements': {},\n\t\t'transliterate': (typeof(XRegExp) === 'undefined') ? true : false\n\t};\n\t\n\t// Merge options\n\tfor (var k in defaults) {\n\t\tif (!opt.hasOwnProperty(k)) {\n\t\t\topt[k] = defaults[k];\n\t\t}\n\t}\n\t\n\tvar char_map = {\n\t\t// Latin\n\t\t'À': 'A', 'Á': 'A', 'Â': 'A', 'Ã': 'A', 'Ä': 'A', 'Å': 'A', 'Æ': 'AE', 'Ç': 'C', \n\t\t'È': 'E', 'É': 'E', 'Ê': 'E', 'Ë': 'E', 'Ì': 'I', 'Í': 'I', 'Î': 'I', 'Ï': 'I', \n\t\t'Ð': 'D', 'Ñ': 'N', 'Ò': 'O', 'Ó': 'O', 'Ô': 'O', 'Õ': 'O', 'Ö': 'O', 'Å': 'O', \n\t\t'Ø': 'O', 'Ù': 'U', 'Ú': 'U', 'Û': 'U', 'Ü': 'U', 'Å°': 'U', 'Ý': 'Y', 'Þ': 'TH', \n\t\t'ß': 'ss', \n\t\t'à': 'a', 'á': 'a', 'â': 'a', 'ã': 'a', 'ä': 'a', 'å': 'a', 'æ': 'ae', 'ç': 'c', \n\t\t'è': 'e', 'é': 'e', 'ê': 'e', 'ë': 'e', 'ì': 'i', 'í': 'i', 'î': 'i', 'ï': 'i', \n\t\t'ð': 'd', 'ñ': 'n', 'ò': 'o', 'ó': 'o', 'ô': 'o', 'õ': 'o', 'ö': 'o', 'Å': 'o', \n\t\t'ø': 'o', 'ù': 'u', 'ú': 'u', 'û': 'u', 'ü': 'u', 'Å±': 'u', 'ý': 'y', 'þ': 'th', \n\t\t'ÿ': 'y',\n\n\t\t// Latin symbols\n\t\t'©': '(c)',\n\n\t\t// Greek\n\t\t'Α': 'A', 'Β': 'B', 'Γ': 'G', 'Δ': 'D', 'Ε': 'E', 'Ζ': 'Z', 'Η': 'H', 'Θ': '8',\n\t\t'Ι': 'I', 'Κ': 'K', 'Λ': 'L', 'Μ': 'M', 'Ν': 'N', 'Ξ': '3', 'Ο': 'O', 'Π': 'P',\n\t\t'Ρ': 'R', 'Σ': 'S', 'Τ': 'T', 'Υ': 'Y', 'Φ': 'F', 'Χ': 'X', 'Ψ': 'PS', 'Ω': 'W',\n\t\t'Î': 'A', 'Î': 'E', 'Î': 'I', 'Î': 'O', 'Î': 'Y', 'Î': 'H', 'Î': 'W', 'Îª': 'I',\n\t\t'Î«': 'Y',\n\t\t'α': 'a', 'β': 'b', 'γ': 'g', 'δ': 'd', 'ε': 'e', 'ζ': 'z', 'η': 'h', 'θ': '8',\n\t\t'ι': 'i', 'κ': 'k', 'λ': 'l', 'μ': 'm', 'ν': 'n', 'ξ': '3', 'ο': 'o', 'π': 'p',\n\t\t'ρ': 'r', 'σ': 's', 'τ': 't', 'υ': 'y', 'φ': 'f', 'χ': 'x', 'ψ': 'ps', 'ω': 'w',\n\t\t'Î¬': 'a', 'Î­': 'e', 'Î¯': 'i', 'Ï': 'o', 'Ï': 'y', 'Î®': 'h', 'Ï': 'w', 'ς': 's',\n\t\t'Ï': 'i', 'Î°': 'y', 'Ï': 'y', 'Î': 'i',\n\n\t\t// Turkish\n\t\t'Å': 'S', 'Ä°': 'I', 'Ç': 'C', 'Ü': 'U', 'Ö': 'O', 'Ä': 'G',\n\t\t'Å': 's', 'Ä±': 'i', 'ç': 'c', 'ü': 'u', 'ö': 'o', 'Ä': 'g', \n\n\t\t// Russian\n\t\t'Ð': 'A', 'Ð': 'B', 'Ð': 'V', 'Ð': 'G', 'Ð': 'D', 'Ð': 'E', 'Ð': 'Yo', 'Ð': 'Zh',\n\t\t'Ð': 'Z', 'Ð': 'I', 'Ð': 'J', 'Ð': 'K', 'Ð': 'L', 'Ð': 'M', 'Ð': 'N', 'Ð': 'O',\n\t\t'Ð': 'P', 'Ð ': 'R', 'Ð¡': 'S', 'Ð¢': 'T', 'Ð£': 'U', 'Ð¤': 'F', 'Ð¥': 'H', 'Ð¦': 'C',\n\t\t'Ð§': 'Ch', 'Ð¨': 'Sh', 'Ð©': 'Sh', 'Ðª': '', 'Ð«': 'Y', 'Ð¬': '', 'Ð­': 'E', 'Ð®': 'Yu',\n\t\t'Ð¯': 'Ya',\n\t\t'Ð°': 'a', 'Ð±': 'b', 'Ð²': 'v', 'Ð³': 'g', 'Ð´': 'd', 'Ðµ': 'e', 'Ñ': 'yo', 'Ð¶': 'zh',\n\t\t'Ð·': 'z', 'Ð¸': 'i', 'Ð¹': 'j', 'Ðº': 'k', 'Ð»': 'l', 'Ð¼': 'm', 'Ð½': 'n', 'Ð¾': 'o',\n\t\t'Ð¿': 'p', 'Ñ': 'r', 'Ñ': 's', 'Ñ': 't', 'Ñ': 'u', 'Ñ': 'f', 'Ñ': 'h', 'Ñ': 'c',\n\t\t'Ñ': 'ch', 'Ñ': 'sh', 'Ñ': 'sh', 'Ñ': '', 'Ñ': 'y', 'Ñ': '', 'Ñ': 'e', 'Ñ': 'yu',\n\t\t'Ñ': 'ya',\n\n\t\t// Ukrainian\n\t\t'Ð': 'Ye', 'Ð': 'I', 'Ð': 'Yi', 'Ò': 'G',\n\t\t'Ñ': 'ye', 'Ñ': 'i', 'Ñ': 'yi', 'Ò': 'g',\n\n\t\t// Czech\n\t\t'Ä': 'C', 'Ä': 'D', 'Ä': 'E', 'Å': 'N', 'Å': 'R', 'Š': 'S', 'Å¤': 'T', 'Å®': 'U', \n\t\t'Å½': 'Z', \n\t\t'Ä': 'c', 'Ä': 'd', 'Ä': 'e', 'Å': 'n', 'Å': 'r', 'š': 's', 'Å¥': 't', 'Å¯': 'u',\n\t\t'Å¾': 'z', \n\n\t\t// Polish\n\t\t'Ä': 'A', 'Ä': 'C', 'Ä': 'e', 'Å': 'L', 'Å': 'N', 'Ó': 'o', 'Å': 'S', 'Å¹': 'Z', \n\t\t'Å»': 'Z', \n\t\t'Ä': 'a', 'Ä': 'c', 'Ä': 'e', 'Å': 'l', 'Å': 'n', 'ó': 'o', 'Å': 's', 'Åº': 'z',\n\t\t'Å¼': 'z',\n\n\t\t// Latvian\n\t\t'Ä': 'A', 'Ä': 'C', 'Ä': 'E', 'Ä¢': 'G', 'Äª': 'i', 'Ä¶': 'k', 'Ä»': 'L', 'Å': 'N', \n\t\t'Š': 'S', 'Åª': 'u', 'Å½': 'Z', \n\t\t'Ä': 'a', 'Ä': 'c', 'Ä': 'e', 'Ä£': 'g', 'Ä«': 'i', 'Ä·': 'k', 'Ä¼': 'l', 'Å': 'n',\n\t\t'š': 's', 'Å«': 'u', 'Å¾': 'z'\n\t};\n\t\n\t// Make custom replacements\n\tfor (var k in opt.replacements) {\n\t\ts = s.replace(RegExp(k, 'g'), opt.replacements[k]);\n\t}\n\t\n\t// Transliterate characters to ASCII\n\tif (opt.transliterate) {\n\t\tfor (var k in char_map) {\n\t\t\ts = s.replace(RegExp(k, 'g'), char_map[k]);\n\t\t}\n\t}\n\t\n\t// Replace non-alphanumeric characters with our delimiter\n\tvar alnum = (typeof(XRegExp) === 'undefined') ? RegExp('[^a-z0-9]+', 'ig') : XRegExp('[^\\\\p{L}\\\\p{N}]+', 'ig');\n\ts = s.replace(alnum, opt.delimiter);\n\t\n\t// Remove duplicate delimiters\n\ts = s.replace(RegExp('[' + opt.delimiter + ']{2,}', 'g'), opt.delimiter);\n\t\n\t// Truncate slug to max. characters\n\ts = s.substring(0, opt.limit);\n\t\n\t// Remove delimiter from ends\n\ts = s.replace(RegExp('(^' + opt.delimiter + '|' + opt.delimiter + '$)', 'g'), '');\n\t\n\treturn opt.lowercase ? s.toLowerCase() : s;\n}\n\n/**\n * @name toast\n * @description Triggers toast notification. Adds toast html to the page if missing.\n * @param {string} text - Toast notification.\n */\n export const toast = (text) => {\n\n    // only add once\n    if(!document.querySelector(\".toast\")){\n\n        let html = `\n        <div class=\"position-fixed bottom-0 p-2 m-4 end-0 align-items-center\">\n            <div class=\"toast hide align-items-center text-white bg-dark border-0\" role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\" data-bs-delay=\"3000\">\n                <div class=\"d-flex\">\n                    <div class=\"toast-body\"></div>\n                    <button type=\"button\" class=\"btn-close btn-close-white me-2 m-auto\" data-bs-dismiss=\"toast\" aria-label=\"Close\"></button>\n                </div>\n            </div>\n        </div>`;\n        if(document.querySelector('body > div')) document.querySelector('body > div').insertAdjacentHTML('afterend', html);\n    }\n\n    let toast = new bootstrap.Toast(document.querySelector('.toast'));\n    document.querySelector('.toast .toast-body').innerHTML = text;  \n    toast.show();\n}","export const link = (slug) => {\n    \n    let urlParams = new URLSearchParams(window.location.search);\n    let sid = urlParams.get('sid') ? urlParams.get('sid') : \"\";\n\n    let postfix = slug.indexOf('?') == -1 ? '?sid='+sid : '&sid='+sid;\n\n    return slug + postfix;\n}\n\nexport const getSiteId = () => {\n    \n    let urlParams = new URLSearchParams(window.location.search);\n    let id = urlParams.get('sid') ? urlParams.get('sid') : \"\";\n\n    return id;\n}\n\nexport const getProductId = () => {\n    \n    let urlParams = new URLSearchParams(window.location.search);\n    let id = urlParams.get('id') ? urlParams.get('id') : \"\";\n    return id;\n}\n\nexport const getProductIdFromLink = () => {\n    \n    let url = new URL(window.location.href);\n    let id = url.pathname.trim().split('/').slice(-2)[0];\n    return id;\n}\n\nexport const getPageNumber = () => {\n\n    let url = window.location.href.split('/');\n    let page = url[url.length-1];\n    let pageN = 1;\n    if(page.indexOf('page')==0){\n      pageN = page.replace('page', '').replace('#', '');\n    }\n    // console.log(pageN);\n    return parseInt(pageN);\n}\n\nexport const getPagination = (meta, cb) => {\n\n    if(typeof(meta) === 'undefined'){ document.querySelector(\"#listing_info\").innerHTML = 'no records to display'; return; }\n\n    let offset = meta.limit+meta.offset;\n    if(offset>meta.total_records) offset = meta.total_records;\n\n    document.querySelector(\"#listing_info\").innerHTML = \"Showing \"+(1+meta.offset)+\" to \"+(offset)+\" of \"+meta.total_records+\" entries\";\n\n    let pbc = Math.ceil(meta.total_records / meta.limit);\n    // console.log(pbc);\n    document.querySelector(\"#listing_paginate\").style.display = (pbc < 2) ? \"none\" : \"block\";\n\n    // page 1 \n\n    // page 3\n    // 1 2\n\n    // page 5\n    // 2 3 4 .. \n\n    let page = getPageNumber(); \n    let html = '<ul class=\"pagination d-flex justify-content-end pagination-flat\">';\n    html += '<li class=\"paginate_button page-item previous\" id=\"listing_previous\"><a href=\"#\" aria-controls=\"order-listing\" data-type=\"prev\" data-page=\"0\" tabindex=\"0\" class=\"page-link\"><span aria-hidden=\"true\">&laquo;</span></li>';\n    let i = 0;\n    while(i<pbc){\n\n        i++; \n        if(((i >= page-3) && (i <= page)) || ((i <= page+3) && (i >=page))){\n\n            html += '<li class=\"paginate_button page-item '+((page==i)?'active':'')+'\"><a href=\"#\" aria-controls=\"order-listing\" data-type=\"page\" data-page=\"'+i+'\" tabindex=\"0\" class=\"page-link\">'+(page==i?'..':i)+'</a></li>';      \n        }\n    }  \n    html += '<li class=\"paginate_button page-item next\" id=\"order-listing_next\"><a href=\"#\" aria-controls=\"order-listing\" data-type=\"next\" data-page=\"2\" tabindex=\"0\" class=\"page-link\"><span aria-hidden=\"true\">&raquo;</span></a></li>';\n    html += '</ul>'\n\n    document.querySelector(\"#listing_paginate\").innerHTML = html;\n\n    let page_link = document.querySelectorAll(\".page-link\");\n    for (const l of page_link) {\n        l.addEventListener('click', function(e) {\n\n            let p = parseInt(getPageNumber());\n            let ps = p;\n            switch(l.dataset.type){ \n                case 'prev': p-=1; if(p<1) p = 1; break;\n                case 'page': p=l.dataset.page; break;\n                case 'next': p+=1; if(p>pbc) p = pbc; break;\n            }\n            \n            // update url\n            if (window.history.replaceState) {\n\n                let url = window.location.href.split('/page');\n                let urlF = (url[0]+'/page'+p).replace('//page', '/page');\n\n                // prevents browser from storing history with each change:\n                window.history.replaceState(\"kenzap-cloud\", document.title, urlF);\n            }\n\n            // only refresh if page differs\n            if(ps!=p) cb();\n            \n            e.preventDefault();\n            return false;\n        });\n    }\n}\n\nexport const formatStatus = (st) => {\n\n    st = parseInt(st); \n    switch(st){ \n      case 0: return '<div class=\"badge bg-warning text-dark fw-light\">Draft</div>';\n      case 1: return '<div class=\"badge bg-primary fw-light\">Published</div>';\n      case 3: return '<div class=\"badge bg-secondary fw-light\">Unpublished</div>';\n      default: return '<div class=\"badge bg-secondary fw-light\">Drafts</div>';\n    }\n}\n\nexport const formatPrice = (price) => {\n\n    const formatter = new Intl.NumberFormat('en-US', { style: 'currency', currency: \"USD\", });\n    if(typeof(price) === 'undefined' || price == '') price = 0;\n    price = parseFloat(price);\n    price = formatter.format(price);\n    return price;\n}\n\nexport const formatTime = (timestamp) => {\n\t\n    let a = new Date(timestamp * 1000);\n    let months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n    let year = a.getFullYear();\n    let month = months[a.getMonth()];\n    let date = a.getDate();\n    let hour = a.getHours();\n    let min = a.getMinutes();\n    let sec = a.getSeconds();\n    let time = date + ' ' + month + ' ' + year; // + ' ' + hour + ':' + min + ':' + sec ;\n    return time;\n}\n\nexport const getCookie = (cname) => {\n\n    let name = cname + \"=\";\n    let decodedCookie = decodeURIComponent(document.cookie);\n    let ca = decodedCookie.split(';');\n    for (let i = 0; i < ca.length; i++) {\n        let c = ca[i];\n        while (c.charAt(0) == ' ') {\n            c = c.substring(1);\n        }\n        if (c.indexOf(name) == 0) {\n            return c.substring(name.length, c.length);\n        }\n    }\n    return \"\";\n}\n\n// parse backend error to frontend\nexport const parseApiError = (data) => {\n\n    // alert(data.reason);\n    // return; \n    switch(data.code){\n\n        // for user to resignin\n        // case 401: location.href=\"https://auth.kenzap.com/?redirectF.php?referral=\"+window.location.href; break;\n        case 401: if(window.location.href.indexOf('localhost')!=-1){ alert('Please update user token'); }else{ location.href='https://auth.kenzap.com/?app=65432108792785&redirect='+window.location.href; } break;\n        default: alert(data.reason); break;\n    }\n}\n\n// init breadcrumbs navigation\nexport const initBreadcrumbs = (data) => {\n\n    let html = '<ol class=\"breadcrumb mt-2 mb-0\">';\n    for(let bc of data){\n        \n        if(typeof(bc.link) === 'undefined'){\n\n            html += `<li class=\"breadcrumb-item\">${ bc.text }</li>`;\n        }else{\n\n            html += `<li class=\"breadcrumb-item\"><a href=\"${ bc.link }\">${ bc.text }</a></li>`;\n        }\n    }\n    html += '</ol>';\n    \n    document.querySelector(\".bc\").innerHTML = html;\n}\n\n/**\n * Simulate a click event.\n * @public\n * @param {Element} elem  the element to simulate a click on\n */\n export const simulateClick = (elem) => {\n     \n\t// Create our event (with options)\n\tvar evt = new MouseEvent('click', {\n\t\tbubbles: true,\n\t\tcancelable: true,\n\t\tview: window\n\t});\n\t// If cancelled, don't dispatch our event\n\tvar canceled = !elem.dispatchEvent(evt);\n};\n\n// nums only validation\nexport const numsOnly = (e, max) => {\n\n    // Only ASCII charactar in that range allowed \n    var ASCIICode = (e.which) ? e.which : e.keyCode \n    if (ASCIICode > 31 && ASCIICode != 46 && (ASCIICode < 48 || ASCIICode > 57)) \n    return false; \n\n    if(parseFloat(e.target.value)>max) \n    return false; \n\n    let dec = e.target.value.split('.');\n    if(dec.length>1)\n    if(dec[1].length>1)\n        return false;\n    \n    return true; \n}\n\nexport const onClick = (sel, fn) => {\n\n    // console.log('onClick');\n    if(document.querySelector(sel)) for( let e of document.querySelectorAll(sel) ){\n\n        e.removeEventListener('click', fn, true);\n        e.addEventListener('click', fn, true);\n    }\n}\n\nexport const onKeyUp = (sel, fn) => {\n\n    if(document.querySelector(sel)) for( let e of document.querySelectorAll(sel) ){\n\n        e.removeEventListener('keyup', fn, true);\n        e.addEventListener('keyup', fn, true);\n    }\n}\n\nexport const onChange = (sel, fn) => {\n\n    // console.log('onChange');\n    if(document.querySelector(sel)) for( let e of document.querySelectorAll(sel) ){\n\n        e.removeEventListener('change', fn, true);\n        e.addEventListener('change', fn, true);\n    }\n}\n\n// time elapsed since creation \nexport const timeConverterAgo = (now, time) => {\n\n    console.log(now + \" \" + time);\n\n    now = parseInt(now);\n    time = parseInt(time);\n\n    console.log(now + \" \" + time);\n\n    // parse as elapsed time\n    let past = now - time;\n    if(past < 60) return 'moments ago';\n    if(past < 3600) return parseInt(past / 60) + ' minutes ago';\n    if(past < 86400) return parseInt(past / 60 / 24) + ' hours ago';\n\n    // process as normal date\n    var a = new Date(time * 1000);\n    var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n    var year = a.getFullYear();\n    var month = months[a.getMonth()];\n    var date = a.getDate();\n    var hour = a.getHours();\n    var min = a.getMinutes();\n    var sec = a.getSeconds();\n    var time = date + ' ' + month + ' ' + year; // + ' ' + hour + ':' + min + ':' + sec ;\n    return time;\n}\n\nexport const toast = (text) => {\n\n    // only add once\n    if(!document.querySelector(\".toast\")){\n\n        let html = `\n        <div class=\"position-fixed bottom-0 p-2 m-4 end-0 align-items-center\">\n            <div class=\"toast hide align-items-center text-white bg-dark border-0\" role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\" data-bs-delay=\"3000\">\n                <div class=\"d-flex\">\n                    <div class=\"toast-body\"></div>\n                    <button type=\"button\" class=\"btn-close btn-close-white me-2 m-auto\" data-bs-dismiss=\"toast\" aria-label=\"Close\"></button>\n                </div>\n            </div>\n        </div>`;\n        if(document.querySelector('body > div')) document.querySelector('body > div').insertAdjacentHTML('afterend', html);\n    }\n\n    let toast = new bootstrap.Toast(document.querySelector('.toast'));\n    document.querySelector('.toast .toast-body').innerHTML = text;  \n    toast.show();\n}","import { link } from \"../_/_helpers.js\"\n\nexport const homeContent = (__) => {\n\n    return `\n    <div class=\"dash-menu container\">\n        <div class=\"d-flex justify-content-between bd-highlight mb-3\">\n            <nav class=\"bc\" aria-label=\"breadcrumb\"><ol class=\"breadcrumb mt-2 mb-0\"><li class=\"breadcrumb-item\">Dashboard</li></ol></nav>\n        </div> \n        <div class=\"row\">\n            <div class=\"col-lg-4 grid-margin stretch-card mb-4\">\n                <div class=\"card border-white shadow-sm p-sm-2 anm br\" data-ext=\"pages\">\n                <div class=\"card-body\">\n                    <div class=\"d-flex flex-row\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"64\" height=\"32\" fill=\"currentColor\" class=\"bi bi-pencil-square me-3 mr-md-0 mr-lg-4 text-primary\" viewBox=\"0 0 16 16\" style=\"min-width: 32px;\">\n                        <path d=\"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z\"></path>\n                        <path fill-rule=\"evenodd\" d=\"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z\"></path>\n                    </svg>\n                    <div class=\"mr-4 mr-md-0 mr-lg-4 text-left text-lg-left\">\n                        <h5 class=\"card-title mb-0\">Pages</h4>\n                        <p class=\"card-description mt-1 mb-0\">Update content of your website. Create new pages or update existing layouts.</p>\n                        <div class=\"link-group\">\n                        <a class=\"mt-2 text-md-tight\" href=\"${ link('/pages/') }\" data-ext=\"pages\">Edit</a>\n                        </div>\n                    </div>\n                    </div>                  \n                </div>\n                </div>\n            </div>\n\n            <div class=\"col-lg-4 grid-margin stretch-card mb-4 d-none\">\n                <div class=\"card border-white shadow-sm p-sm-2 anm br\" data-ext=\"settings\">\n                <div class=\"card-body\">\n                    <div class=\"d-flex flex-row\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"64\" height=\"32\" fill=\"currentColor\" class=\"bi bi-pencil-square me-3 mr-md-0 mr-lg-4 text-primary\" viewBox=\"0 0 16 16\" style=\"min-width: 32px;\">\n                        <path d=\"M15.825.12a.5.5 0 0 1 .132.584c-1.53 3.43-4.743 8.17-7.095 10.64a6.067 6.067 0 0 1-2.373 1.534c-.018.227-.06.538-.16.868-.201.659-.667 1.479-1.708 1.74a8.118 8.118 0 0 1-3.078.132 3.659 3.659 0 0 1-.562-.135 1.382 1.382 0 0 1-.466-.247.714.714 0 0 1-.204-.288.622.622 0 0 1 .004-.443c.095-.245.316-.38.461-.452.394-.197.625-.453.867-.826.095-.144.184-.297.287-.472l.117-.198c.151-.255.326-.54.546-.848.528-.739 1.201-.925 1.746-.896.126.007.243.025.348.048.062-.172.142-.38.238-.608.261-.619.658-1.419 1.187-2.069 2.176-2.67 6.18-6.206 9.117-8.104a.5.5 0 0 1 .596.04zM4.705 11.912a1.23 1.23 0 0 0-.419-.1c-.246-.013-.573.05-.879.479-.197.275-.355.532-.5.777l-.105.177c-.106.181-.213.362-.32.528a3.39 3.39 0 0 1-.76.861c.69.112 1.736.111 2.657-.12.559-.139.843-.569.993-1.06a3.122 3.122 0 0 0 .126-.75l-.793-.792zm1.44.026c.12-.04.277-.1.458-.183a5.068 5.068 0 0 0 1.535-1.1c1.9-1.996 4.412-5.57 6.052-8.631-2.59 1.927-5.566 4.66-7.302 6.792-.442.543-.795 1.243-1.042 1.826-.121.288-.214.54-.275.72v.001l.575.575zm-4.973 3.04.007-.005a.031.031 0 0 1-.007.004zm3.582-3.043.002.001h-.002z\"/>\n                    </svg>\n                    <div class=\"mr-4 mr-md-0 mr-lg-4 text-left text-lg-left\">\n                        <h5 class=\"card-title mb-0\">Style &amp; Settings</h4>\n                        <p class=\"card-description mt-1 mb-0\">Adjust visual feel and look of this site. Change colors, fonts, etc.</p>\n                        <div class=\"link-group\">\n                        <a class=\"mt-2 text-md-tight\" href=\"#\" data-ext=\"settings\">Customize</a>\n                        </div>\n                    </div>\n                    </div>                  \n                </div>\n                </div>\n            </div>\n\n            <div class=\"col-lg-4 grid-margin stretch-card mb-4\">\n                <div class=\"card border-white shadow-sm p-sm-2 anm br\" data-ext=\"domain\">\n                <div class=\"card-body\">\n                    <div class=\"d-flex flex-row\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"64\" height=\"32\" fill=\"currentColor\" class=\"bi bi-pencil-square me-3 mr-md-0 mr-lg-4 text-primary\" viewBox=\"0 0 16 16\" style=\"min-width: 32px;\">\n                        <path d=\"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm7.5-6.923c-.67.204-1.335.82-1.887 1.855A7.97 7.97 0 0 0 5.145 4H7.5V1.077zM4.09 4a9.267 9.267 0 0 1 .64-1.539 6.7 6.7 0 0 1 .597-.933A7.025 7.025 0 0 0 2.255 4H4.09zm-.582 3.5c.03-.877.138-1.718.312-2.5H1.674a6.958 6.958 0 0 0-.656 2.5h2.49zM4.847 5a12.5 12.5 0 0 0-.338 2.5H7.5V5H4.847zM8.5 5v2.5h2.99a12.495 12.495 0 0 0-.337-2.5H8.5zM4.51 8.5a12.5 12.5 0 0 0 .337 2.5H7.5V8.5H4.51zm3.99 0V11h2.653c.187-.765.306-1.608.338-2.5H8.5zM5.145 12c.138.386.295.744.468 1.068.552 1.035 1.218 1.65 1.887 1.855V12H5.145zm.182 2.472a6.696 6.696 0 0 1-.597-.933A9.268 9.268 0 0 1 4.09 12H2.255a7.024 7.024 0 0 0 3.072 2.472zM3.82 11a13.652 13.652 0 0 1-.312-2.5h-2.49c.062.89.291 1.733.656 2.5H3.82zm6.853 3.472A7.024 7.024 0 0 0 13.745 12H11.91a9.27 9.27 0 0 1-.64 1.539 6.688 6.688 0 0 1-.597.933zM8.5 12v2.923c.67-.204 1.335-.82 1.887-1.855.173-.324.33-.682.468-1.068H8.5zm3.68-1h2.146c.365-.767.594-1.61.656-2.5h-2.49a13.65 13.65 0 0 1-.312 2.5zm2.802-3.5a6.959 6.959 0 0 0-.656-2.5H12.18c.174.782.282 1.623.312 2.5h2.49zM11.27 2.461c.247.464.462.98.64 1.539h1.835a7.024 7.024 0 0 0-3.072-2.472c.218.284.418.598.597.933zM10.855 4a7.966 7.966 0 0 0-.468-1.068C9.835 1.897 9.17 1.282 8.5 1.077V4h2.355z\"/>\n                    </svg>\n                    <div class=\"mr-4 mr-md-0 mr-lg-4 text-left text-lg-left\">\n                        <h5 class=\"card-title mb-0\">${ __('Domain Name') }</h4>\n                        <p class=\"card-description mt-1 mb-0\">Update domain name settings of this site. Connect your domain name.</p>\n                        <div class=\"link-group\">\n                        <a class=\"mt-2 text-md-tight\" href=\"${ link('/domain/') }\" data-ext=\"domain\">Settings</a>\n                        </div>\n                    </div>\n                    </div>                  \n                </div>\n                </div>\n            </div>\n\n            <div class=\"col-lg-4 grid-margin stretch-card mb-4 d-none\">\n                <div class=\"card border-white shadow-sm p-sm-2 anm br\" data-ext=\"navigation\">\n                <div class=\"card-body\">\n                    <div class=\"d-flex flex-row\">\n                    <div class=\"mr-4 mr-md-0 mr-lg-4 text-left text-lg-left\">\n                        <h5 class=\"card-title mb-0\">Navigation Menu</h4>\n                        <p class=\"card-description mt-1 mb-0\">Set up header and footer navigation menus of this site.</p>\n                        <div class=\"link-group\">\n                        <a class=\"mt-2 text-md-tight\" href=\"#\" data-ext=\"navigation\">Edit</a>\n                        </div>\n                    </div>\n                    </div>                  \n                </div>\n                </div>\n            </div>\n\n            <div class=\"col-lg-4 grid-margin stretch-card mb-4\">\n                <div class=\"card border-white shadow-sm p-sm-2 anm br\" data-ext=\"users\">\n                <div class=\"card-body\">\n                    <div class=\"d-flex flex-row\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"64\" height=\"32\" fill=\"currentColor\" class=\"bi bi-pencil-square me-3 mr-md-0 mr-lg-4 text-primary\" viewBox=\"0 0 16 16\" style=\"min-width: 32px;\">\n                        <path d=\"M5.338 1.59a61.44 61.44 0 0 0-2.837.856.481.481 0 0 0-.328.39c-.554 4.157.726 7.19 2.253 9.188a10.725 10.725 0 0 0 2.287 2.233c.346.244.652.42.893.533.12.057.218.095.293.118a.55.55 0 0 0 .101.025.615.615 0 0 0 .1-.025c.076-.023.174-.061.294-.118.24-.113.547-.29.893-.533a10.726 10.726 0 0 0 2.287-2.233c1.527-1.997 2.807-5.031 2.253-9.188a.48.48 0 0 0-.328-.39c-.651-.213-1.75-.56-2.837-.855C9.552 1.29 8.531 1.067 8 1.067c-.53 0-1.552.223-2.662.524zM5.072.56C6.157.265 7.31 0 8 0s1.843.265 2.928.56c1.11.3 2.229.655 2.887.87a1.54 1.54 0 0 1 1.044 1.262c.596 4.477-.787 7.795-2.465 9.99a11.775 11.775 0 0 1-2.517 2.453 7.159 7.159 0 0 1-1.048.625c-.28.132-.581.24-.829.24s-.548-.108-.829-.24a7.158 7.158 0 0 1-1.048-.625 11.777 11.777 0 0 1-2.517-2.453C1.928 10.487.545 7.169 1.141 2.692A1.54 1.54 0 0 1 2.185 1.43 62.456 62.456 0 0 1 5.072.56z\"/>\n                        <path d=\"M9.5 6.5a1.5 1.5 0 0 1-1 1.415l.385 1.99a.5.5 0 0 1-.491.595h-.788a.5.5 0 0 1-.49-.595l.384-1.99a1.5 1.5 0 1 1 2-1.415z\"/>\n                    </svg>\n                    <div class=\"mr-4 mr-md-0 mr-lg-4 text-left text-lg-left\">\n                        <h5 class=\"card-title mb-0\">${ __('Access & API keys') }</h4>\n                        <p class=\"card-description mt-1 mb-0\">Grant new user or revoke existing user access to this cloud space.</p>\n                        <div class=\"link-group\">\n                        <a class=\"mt-2 text-md-tight\" href=\"${ link('/access/') }\" data-ext=\"users\">${ __('Manage') }</a>\n                        </div>\n                    </div>\n                    </div>                  \n                </div>\n                </div>\n            </div>\n\n            <div class=\"col-lg-4 grid-margin stretch-card mb-4\">\n                <div class=\"card border-white shadow-sm p-sm-2 anm br\" data-ext=\"products\">\n                <div class=\"card-body\">\n                    <div class=\"d-flex flex-row\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"64\" height=\"32\" fill=\"currentColor\" class=\"bi bi-pencil-square me-3 mr-md-0 mr-lg-4 text-primary\" viewBox=\"0 0 16 16\" style=\"min-width: 32px;\">\n                            <path d=\"M0 2.5A.5.5 0 0 1 .5 2H2a.5.5 0 0 1 .485.379L2.89 4H14.5a.5.5 0 0 1 .485.621l-1.5 6A.5.5 0 0 1 13 11H4a.5.5 0 0 1-.485-.379L1.61 3H.5a.5.5 0 0 1-.5-.5zM3.14 5l1.25 5h8.22l1.25-5H3.14zM5 13a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0zm9-1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0z\"/>\n                        </svg>\n                        <div class=\"mr-4 mr-md-0 mr-lg-4 text-left text-lg-left\">\n                            <h5 class=\"card-title mb-0\">${ __('E-commerce') }</h4>\n                            <p class=\"card-description mt-1 mb-0\">${ __('Create and organize products used in e-commerce and checkout.') }</p>\n                            <div class=\"link-group\">\n                                <a class=\"mt-2 me-2 text-md-tight\" href=\"${ link('https://ecommerce.kenzap.cloud') }\" data-ext=\"ecommerce-settings\">${ __('Menu') }</a>\n                                <a class=\"mt-2 text-md-tight\" href=\"${ link('https://ecommerce.kenzap.cloud/product-list/') }\" data-ext=\"ecommerce-products\">${ __('Products') }</a>\n                            </div>\n                            <!-- <a class=\"link text-right mt-2 text-md-tight text-lg-right\" href=\"#\" >${ __('Continue') }</a> -->\n                        </div>\n                    </div>                  \n                </div>\n                </div>\n            </div>\n\n\n            <div class=\"col-lg-4 grid-margin stretch-card mb-4\">\n                <div class=\"add-card border-white p-sm-2 anm br\" data-ext=\"products\">\n                    <div class=\"card-body\">\n                        <div class=\"d-flex flex-row justify-content-center\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"90\" height=\"90\" fill=\"currentColor\" style=\"color:#ccc;\" class=\"bi bi-plus-circle justify-content-center p-3\" viewBox=\"0 0 16 16\">\n                            <path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"></path>\n                            <path d=\"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z\"></path>\n                            </svg>\n                        </div>                  \n                    </div>\n                </div>\n            </div>\n \n        </div>\n    </div>\n\n    \n    <div class=\"modal\" tabindex=\"-1\">\n        <div class=\"modal-dialog\">\n            <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                    <h5 class=\"modal-title\"></h5>\n                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                </div>\n                <div class=\"modal-body\">\n\n                </div>\n                <div class=\"modal-footer\">\n                    <button type=\"button\" class=\"btn btn-primary btn-modal\"></button>\n                    <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\"></button>\n                </div>\n            </div>\n        </div>\n    </div>\n\n\n\n    `;\n}","// dependencies\nimport { headers, showLoader, hideLoader, initHeader, initFooter, initBreadcrumbs, parseApiError, getCookie, onClick, getSiteId, toast } from '@kenzap/k-cloud';\nimport { homeContent } from \"../_/_cnt_home.js\"\n\n// where everything happens\nconst _this = {\n\n    state: {\n        firstLoad: true,\n        extLoad: false,\n        ajaxQueue: 0,\n        modalCont: null,\n        ext_ids: null,\n        \n    },\n    init: () => {\n        \n        _this.getData(); \n    },\n    getData: () => {\n\n        // show loader during first load\n        if (_this.state.firstLoad) showLoader();\n\n        // do API query\n        fetch('https://api-v1.kenzap.cloud/', {\n            method: 'post',\n            headers: headers,\n            body: JSON.stringify({\n                query: {\n                    user: {\n                        type:       'authenticate',\n                        fields:     ['avatar'],\n                        token:      getCookie('kenzap_token')\n                    },\n                    locale: {\n                        type:       'locale',\n                        source:      ['extension'],\n                        key:         'dashboard',\n                    },\n                    dashboard: {\n                        type:       'dashboard',\n                    }\n                }\n            })\n        })\n        .then(response => response.json())\n        .then(response => {\n\n            // hide UI loader\n            hideLoader();\n\n            if(response.success){\n\n                // init header\n                initHeader(response);\n\n                // get core html content \n                _this.loadHomeStructure();  \n\n                // render table\n                _this.renderPage(response);\n\n                // check launcher  \n                _this.checkLauncher();\n\n                // bind content listeners\n                _this.initListeners();\n            \n                // initiate footer\n                _this.initFooter();\n\n                // first load\n                _this.state.firstLoad = false;\n\n            }else{\n\n                parseApiError(response);\n            }\n        })\n        .catch(error => {\n            console.error('Error:', error);\n        });\n    },\n    renderPage: (response) => {\n\n        let d = document;\n        let html = '';\n        // console.log(response.dashboard.extensions);\n        _this.state.ext_ids = response.dashboard.ext_ids;\n        if(response.dashboard.ext_ids) response.dashboard.ext_ids.forEach(el => {\n            \n            console.log(\"init card for ext: \" + el);\n            // console.log(response.dashboard.extensions[el]);\n\n            if(response.dashboard.extensions[el]) if(response.dashboard.extensions[el].links) response.dashboard.extensions[el].links.forEach(el_card => {\n\n                // console.log(el_card);\n\n                // render links\n                let links = '';\n                el_card.links.forEach(link => {\n                    links += `<a class=\"mt-2 me-2 text-md-tight\" href=\"${ response.dashboard.extensions[el].domain ? 'https://' + response.dashboard.extensions[el].domain + '.kenzap.cloud' + link.slug : link.slug }?sid=${ getSiteId() }\" data-ext=\"pages\">${ link.text }</a>`;\n                });\n\n                // render icon\n                let icon = '';\n                icon = el_card.icon;\n\n                html += `\n                <div class=\"col-lg-4 grid-margin stretch-card mb-4\">\n                    <div class=\"card border-white shadow-sm p-sm-2 anm br\" data-ext=\"${ el }\">\n                        <div class=\"card-body\">\n                            <div class=\"d-flex flex-row\">\n                            ${ icon }\n                            <div class=\"mr-4 mr-md-0 mr-lg-4 text-left text-lg-left\">\n                                <h5 class=\"card-title mb-0\">${ el_card.title } <button type=\"button\" data-id=\"${ el }\" class=\"d-none btn-close float-end fs-6 rm-ext\" ></button></h5>\n                                <p class=\"card-description mt-1 mb-0\">${ el_card.description }</p>\n                                <div class=\"link-group\">\n                                    ${ links }\n                                </div>\n                            </div>\n                            </div>                  \n                        </div>\n                    </div>\n                </div>`;\n            });\n        });\n\n        html += `\n        <div class=\"col-lg-4 grid-margin stretch-card mb-4\">\n            <div class=\"add-card border-white p-sm-2 anm br\" data-ext=\"\">\n                <div class=\"card-body\">\n                    <div class=\"d-flex flex-row justify-content-center\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"90\" height=\"90\" fill=\"currentColor\" style=\"color:#ccc;\" class=\"bi bi-plus-circle justify-content-center p-3\" viewBox=\"0 0 16 16\">\n                        <path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"></path>\n                        <path d=\"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z\"></path>\n                        </svg>\n                    </div>                  \n                </div>\n            </div>\n        </div>`;\n\n        d.querySelector(\".dash-menu .row\").innerHTML = html;\n        \n        // initiate breadcrumbs\n        initBreadcrumbs(\n            [\n                { text: __('Dashboard') },\n            ]\n        );\n    },\n    initListeners: (type = 'partial') => {\n\n        // block click listener\n        onClick('.link-group a', _this.listeners.blockClick);\n\n        // add card listener\n        onClick('.add-card', _this.listeners.blockAddClick);\n\n        // remove card listener\n        onClick('.rm-ext', _this.listeners.blockRemoveClick);\n\n        // listeners that can be initiated only once\n        if(type == 'all'){\n\n            // // product save button\n            // onClick('.btn-save', _this.listeners.saveProduct);\n            \n            // // modal success button\n            // onClick('.p-modal .btn-primary', _this.listeners.modalSuccessBtn);\n        }\n    },\n    listeners: {\n\n        blockClick: (e) => {\n\n            \n            // let href = e.currentTarget.getAttribute('href');\n            // console.log();\n\n        },\n        blockAddClick: (e) => {\n\n            let modal = document.querySelector(\".modal\");\n            _this.state.modalCont = new bootstrap.Modal(modal);\n            modal.querySelector(\".modal-dialog\").style.maxWidth = '900px';\n            let CDN2 = 'https://static.kenzap.com';\n            \n            modal.querySelector(\".modal-title\").innerHTML = __('Add extension');\n            modal.querySelector(\".btn-primary\").style.display = 'none';\n            modal.querySelector(\".btn-secondary\").innerHTML = __('Cancel');\n\n            // init params\n            let params = new URLSearchParams();\n            params.append(\"cmd\", \"preview_extensions\");\n            params.append(\"s\", '');\n            params.append(\"token\", getCookie('kenzap_token'));\n    \n            // do API query\n            fetch('https://siteapi.kenzap.cloud/v1/', {\n                method: 'post',\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-type': 'application/x-www-form-urlencoded',\n                },\n                body: params\n            })\n            .then(response => response.json())\n            .then(response => {\n\n                if(response.success){\n                   \n                    let html = '', key = 0;\n                    html += '<div class=\"row\">';\n                    for (let row of response.res) {\n\n                        // check if extension already added\n                        html += '<div class=\"col-md-6\" style=\"margin:16px 0;\">';\n                        html += '<h4>'+row['extra']['title'];\n                        html += '<div class=\"br-wrapper br-theme-css-stars\"><select id=\"profile-rating\" name=\"rating\" autocomplete=\"off\" style=\"display: none;\"><option value=\"1\">1</option><option value=\"2\">2</option><option value=\"3\">3</option><option value=\"4\">4</option><option value=\"5\">5</option></select><div class=\"br-widget\"><a href=\"#\" data-rating-value=\"1\" data-rating-text=\"1\" class=\"br-selected\"></a><a href=\"#\" data-rating-value=\"2\" data-rating-text=\"2\" class=\"br-selected\"></a><a href=\"#\" data-rating-value=\"3\" data-rating-text=\"3\" class=\"br-selected\"></a><a href=\"#\" data-rating-value=\"4\" data-rating-text=\"4\" class=\"br-selected\"></a><a href=\"#\" data-rating-value=\"5\" data-rating-text=\"5\" class=\"br-selected br-current\"></a></div></div>';\n                        html += '</h4>';\n                        html += '<img alt=\"'+row['extra']['title']+'\" style=\"max-width:100%;min-height:200px;\" src=\"'+CDN2+'/preview/'+row['id']+'-600.jpeg?'+row['extra']['updated']+'\" />';\n                        if(_this.state.ext_ids.includes(row['id'])){\n                            html += '<span class=\"csection\" data-id=\"'+row['extra']['slug']+'\" data-index=\"'+key+'\" >' + __('Already added') + '</a>';\n                        }else{\n                            html += '<a class=\"sclick csection\" data-id=\"'+row['extra']['slug']+'\" data-index=\"'+key+'\" >' + __('Choose this extensions') + '</a>';\n                        }\n                        html += '</div>';\n                        key++;\n                    }\n                    html += '</div>';\n\n                    modal.querySelector(\".modal-body\").innerHTML = html;\n\n                    _this.state.modalCont.show();\n\n                    onClick('.sclick', _this.listeners.sectionClick);\n\n                }else{\n\n                    simulateClick(document.querySelector('.modal .btn-close'));\n                    toast(__('No available extensions found.'));\n                    // parseApiError(response);\n                }\n            })\n            .catch(error => {\n                console.error('Error:', error);\n            });\n\n        },\n        blockRemoveClick: (e) => {\n\n            let c = confirm(__('Remove extension from dashboard?'))\n            if(!c) return;\n\n            // init params\n            let params = new URLSearchParams();\n            params.append(\"cmd\", \"remove_extension\");\n            params.append(\"sid\", getSiteId());\n            params.append(\"id\", e.currentTarget.dataset.id);\n            params.append(\"token\", getCookie('kenzap_token'));\n\n            // do API query\n            fetch('https://siteapi.kenzap.cloud/v1/', {\n                method: 'post',\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-type': 'application/x-www-form-urlencoded',\n                },\n                body: params\n            })\n            .then(response => response.json())\n            .then(response => {\n\n                if(response.success){\n\n                    _this.getData(); \n                    toast(__('Extension removed.'));\n                }else{\n\n                    toast(__('Something went wrong, try again later.'));\n                }\n            })\n            .catch(error => {\n                console.error('Error:', error);\n            });\n        },\n        sectionClick: (e) => {\n\n            _this.state.modalCont.hide();\n            _this.launcher(e.currentTarget.dataset.id);\n        },\n        modalSuccessBtn: (e) => {\n            \n            _this.listeners.modalSuccessBtnFunc(e);\n        },\n        modalSuccessBtnFunc: null\n    },\n    launcher: (extensions) => {\n\n        // init params\n        let params = new URLSearchParams();\n        params.append(\"cmd\", \"init_extensions\");\n        params.append(\"extensions\", extensions);\n        params.append(\"sid\", getSiteId());\n        params.append(\"token\", getCookie('kenzap_token'));\n        \n        // do API query\n        fetch('https://siteapi.kenzap.cloud/v1/', {\n            method: 'post',\n            headers: {\n                'Accept': 'application/json',\n                'Content-type': 'application/x-www-form-urlencoded',\n            },\n            body: params\n        })\n        .then(response => response.json())\n        .then(response => {\n\n            if(response.success){\n\n                _this.getData();\n\n                toast(__('New extension successfully added.'));\n            }else{\n\n                toast(__('Can not add extension. Please try again later.'));\n            }\n        })\n        .catch(error => {\n            console.error('Error:', error);\n        });\n    },\n    checkLauncher: () => {\n\n        if(_this.state.extLoad) return;\n\n        // init params\n        let params = new URLSearchParams(window.location.search);\n        if(params.get(\"launcher\")){\n         \n            let exts = params.get(\"launcher\").split(',');\n            exts.forEach(id => _this.state.ext_ids.includes(id) ? '' : _this.launcher(id));\n            _this.state.extLoad = true;\n        }\n    },\n    loadHomeStructure: () => {\n\n        if(!_this.state.firstLoad) return;\n\n        // get core html content \n        document.querySelector('#contents').innerHTML = homeContent(__);\n    },\n    initFooter: () => {\n        \n        initFooter(__('Created by %1$Kenzap%2$. ❤️ Licensed %3$GPL3%4$.', '<a class=\"text-muted\" href=\"https://kenzap.com/\" target=\"_blank\">', '</a>', '<a class=\"text-muted\" href=\"https://github.com/kenzap/dashboard\" target=\"_blank\">', '</a>'), __('Copyright © %1$ %2$Dashboard%3$ Extension', new Date().getFullYear(), '<a class=\"text-muted\" href=\"https://github.com/kenzap/dashboard\" target=\"_blank\">', '</a>'));\n \n        // initFooter(__('Copyright © '+new Date().getFullYear()+' <a class=\"text-muted\" href=\"https://kenzap.com/\" target=\"_blank\">Kenzap</a>. All rights reserved.'), __('Kenzap Cloud Services - Dashboard'));\n    }\n}\n\n_this.init();\n"],"names":["link","slug","urlParams","URLSearchParams","window","location","search","sid","get","postfix","indexOf","homeContent","__","_this","state","firstLoad","extLoad","ajaxQueue","modalCont","ext_ids","init","getData","showLoader","fetch","method","headers","body","JSON","stringify","query","user","type","fields","token","getCookie","locale","source","key","dashboard","then","response","json","hideLoader","success","initHeader","loadHomeStructure","renderPage","checkLauncher","initListeners","initFooter","parseApiError","error","console","d","document","html","forEach","el","log","extensions","links","el_card","domain","getSiteId","text","icon","title","description","querySelector","innerHTML","initBreadcrumbs","onClick","listeners","blockClick","blockAddClick","blockRemoveClick","e","modal","bootstrap","Modal","style","maxWidth","CDN2","display","params","append","res","row","includes","show","sectionClick","simulateClick","toast","c","confirm","currentTarget","dataset","id","hide","launcher","modalSuccessBtn","modalSuccessBtnFunc","exts","split","Date","getFullYear"],"mappings":"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"}